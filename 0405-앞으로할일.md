# 한자 학습 앱 개선 작업 계획 (2024.04.05)

## 현재 문제점

1. **한자 필순 데이터 로딩 문제**
   - 일부 한자(특히 복잡한 한자)의 필순 데이터가 제대로 로드되지 않음
   - API 요청 시 404 오류 발생 (예: '學' 한자)
   - CDN에서도 데이터를 가져오지 못하는 경우 발생

2. **스크립트 로딩 불안정**
   - HanziWriter 스크립트 로드가 불안정하여 일부 상황에서 초기화 실패
   - 다중 스크립트 로드 시도로 인한 성능 저하 및 불필요한 네트워크 요청 발생

3. **UI/UX 일관성 부족**
   - 학습 모드와 필기 연습 모드 간 UI 일관성 부족
   - 사용자 피드백 메시지가 명확하지 않음

## 개선 계획

### 1. 데이터 로딩 시스템 재구축

- **로컬 데이터베이스 구축**
  - 자주 사용되는 기본 한자(500-1000자)의 필순 데이터를 로컬에 내장
  - SQLite 또는 IndexedDB를 활용한 클라이언트 측 캐싱 구현

- **데이터 로딩 로직 개선**
  - 로컬 → CDN → API 순으로 캐스케이드 방식의 데이터 로딩 구현
  - 로딩 실패 시 자동 생성된 기본 패턴 제공 (이미 구현됨)
  - 백그라운드에서 점진적 데이터 로드 및 캐시 업데이트

- **한자 데이터 API 업그레이드**
  - API 엔드포인트의 오류 처리 강화
  - 대규모 한자 데이터셋 구축 및 배포

### 2. 스크립트 로딩 안정화

- **번들링 최적화**
  - HanziWriter 라이브러리를 프로젝트에 직접 통합
  - 번들 크기 최적화 및 코드 분할 적용

- **로딩 전략 개선**
  - 페이지 로드 초기에 필수 스크립트 로드 ('beforeInteractive' 전략)
  - 오류 복구 메커니즘 강화

### 3. UI/UX 개선

- **디자인 시스템 표준화**
  - 일관된 컴포넌트 및 색상 스키마 적용
  - 모바일 대응 레이아웃 개선

- **사용자 피드백 강화**
  - 로딩 상태에 대한 명확한 시각적 피드백 제공
  - 오류 메시지 개선 및 사용자 친화적 안내

- **성능 최적화**
  - 렌더링 성능 개선
  - 애니메이션 부드러움 향상

### 4. 테스트 강화

- **자동화된 테스트 구축**
  - 주요 한자 데이터 로딩 및 표시에 대한 단위 테스트
  - 다양한 환경(브라우저, 기기)에서의 통합 테스트

- **사용자 테스트**
  - 실제 사용자 테스트 세션 계획 및 실행
  - 피드백 수집 및 개선 사항 도출

## 우선순위 및 일정

### 즉시 진행 (1-2주)
1. 로컬 데이터베이스 구축 및 기본 한자 데이터 내장
2. HanziWriter 라이브러리 프로젝트 통합
3. 데이터 로딩 로직 재구현

### 중기 (3-4주)
1. UI/UX 일관성 개선
2. API 엔드포인트 업그레이드
3. 성능 최적화

### 장기 (5-8주)
1. 테스트 자동화 구축
2. 추가 기능 개발 (사용자 진행 상황 추적, 학습 패턴 분석 등)
3. 대규모 한자 데이터셋 확장

## 결론

현재 한자 학습 앱은 데이터 로딩과 스크립트 초기화에 관련된 핵심적인 문제를 가지고 있습니다. 이러한 문제를 해결하기 위해 로컬 데이터베이스 구축, 스크립트 로딩 최적화, UI/UX 개선을 순차적으로 진행할 계획입니다. 이를 통해 사용자 경험을 크게 향상시키고 안정적인 한자 학습 환경을 제공할 수 있을 것입니다. 