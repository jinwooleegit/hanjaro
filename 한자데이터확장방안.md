# 15급부터 1급까지 한자 데이터베이스 확보 방안

## 현재 상황 분석

1. **현재 데이터베이스 구조**:
   - 기존 프로젝트에는 초급(beginner)에 level1~level6, 중급(intermediate)에 level1~level2, 전문가(university)에 level1~level4의 데이터 파일이 있습니다.
   - `hanjaUtils.ts`의 매핑에 따르면 이는 다음과 같이 급수와 매칭됩니다:
     - 초급(beginner): level1(15급), level2(14급), level3(13급), level4(12급), level5(11급)
     - 중급(intermediate): level1(10급), level2(9급), level3(8급), level4(7급), level5(6급)
     - 고급(advanced): level1(5급), level2(4급), level3(3급)
     - 전문가(expert): level1(2급), level2(1급)

2. **파일 상태**:
   - 파일 확인 결과 일부 데이터 파일에서 인코딩 문제가 발생하고 있습니다.
   - 고급(advanced)과 전문가(expert) 레벨의 데이터 파일이 중복 사용되거나 일부 누락되어 있습니다.

## 한자 급수 체계

웹 검색 결과에 따른 한자 급수별 표준 한자 수:

| 급수 | 한자 수 | 학습 단계 |
|------|--------|---------|
| 1급  | 3,500자 | 대학/전문가 |
| 2급  | 2,400자 | 대학/전문가 |
| 3급  | 1,600자 | 고등학교 |
| 4급  | 1,000자 | 중학교 |
| 준4급 | 700자 | 중학교 |
| 5급  | 500자 | 초등학교 |
| 준5급 | 340자 | 초등학교 |
| 6급  | 220자 | 초등학교 |
| 준6급 | 170자 | 초등학교 |
| 7급  | 120자 | 초등학교 |
| 준7급 | 80자 | 초등학교 |
| 8급  | 50자 | 유치원/초등 |
| 준8급 | 30자 | 유치원 |

## 데이터베이스 확보 방안

### 1. 기존 데이터 정리 및 정상화

1. **인코딩 문제 해결**:
   - 모든 JSON 파일을 UTF-8 인코딩으로 표준화하여 한글 및 한자 깨짐 현상 해결
   - BOM(Byte Order Mark) 제거하여 파일 호환성 확보

2. **데이터 구조 표준화**:
   ```json
   {
     "name": "15급 (초등 1학년 수준)",
     "description": "한자 학습 입문 단계로 가장 기초적인 한자를 학습합니다.",
     "category": "beginner",
     "level": "level1",
     "grade": "15",
     "characters": [
       {
         "character": "一",
         "meaning": "한 일",
         "pronunciation": "일",
         "stroke_count": 1,
         "radical": "一",
         "examples": [...],
         "audio_url": "/audio/一.mp3",
         "stroke_order": [...]
       },
       // 더 많은 한자
     ]
   }
   ```

### 2. 누락된 데이터 확보 방법

1. **공개 데이터 소스 활용**:
   - 국립국어원 한자 자료 (1,800자): https://www.korean.go.kr/
   - KS X 1001 완성형 표준 한자 (4,888자)
   - Unicode CJK 기본 한자 블록 데이터

2. **상업 데이터베이스 라이센스 취득**:
   - 한자 급수 검정 공인 기관의 데이터베이스 라이센스 구매
   - 교육용 한자 데이터베이스 서비스 API 활용

3. **크롤링 + 수동 검증** (저작권 문제 해결 전제):
   - 공개된 한자 교육 사이트에서 데이터 수집
   - 수집된 데이터의 정확성 검증 및 편집

### 3. 데이터베이스 구조 개선

1. **중앙 집중식 관리 시스템**:
   ```
   /data/
     /grades/              # 급수별 데이터
       grade_01.json       # 1급 (3,500자)
       grade_02.json       # 2급 (2,400자)
       ...
       grade_15.json       # 15급 (30자)
     
     /categories/          # 카테고리 정의
       beginner.json       # 초급 (15~11급)
       intermediate.json   # 중급 (10~6급)
       advanced.json       # 고급 (5~3급)
       expert.json         # 전문가 (2~1급)
     
     /metadata/            # 부가 정보
       radicals.json       # 부수 정보
       strokes.json        # 획수별 정보
       similar.json        # 유사 한자 관계
   ```

2. **관계형 구조 도입**:
   - 모든 한자에 고유 ID 부여
   - 관계 표현을 ID 기반으로 구현
   - 중복 데이터 최소화

### 4. 구현 계획

1. **1단계: 현재 데이터 정상화 (1주)**
   - 인코딩 문제 해결
   - 파일 구조 표준화
   - 중복 데이터 제거

2. **2단계: 누락 데이터 확보 (2-3주)**
   - 15급~11급: 초급 한자 200자 (기존 데이터 활용)
   - 10급~6급: 중급 한자 700자 (기존 + 신규 데이터)
   - 5급~3급: 고급 한자 1,600자 (신규 데이터 확보 필요)
   - 2급~1급: 전문가 한자 3,500자 (신규 데이터 확보 필요)

3. **3단계: 데이터 구조 개선 (1-2주)**
   - 중앙 집중식 데이터 관리 구현
   - 관계형 구조 도입
   - 메타데이터 확충

4. **4단계: 검증 및 최적화 (1주)**
   - 데이터 정확성 검증
   - 성능 최적화
   - 사용자 피드백 반영

## 제안

1. **오픈소스 데이터 활용**:
   - 공개된 한자 데이터 소스를 적극 활용해 기본 데이터셋 구축
   - 라이센스 문제가 없는 데이터 우선 사용

2. **단계적 데이터 확장**:
   - 초급(15~11급)과 중급(10~6급)을 우선 구축하고 점진적으로 고급/전문가 급수 확장
   - 상업적 활용을 고려한 라이센스 확보

3. **AI 활용 데이터 보강**:
   - 기본 정보가 있는 한자에 대해 예문, 획순, 관련어 등을 AI로 자동 보강
   - 생성된 데이터는 전문가 검수 후 적용

4. **커뮤니티 참여 유도**:
   - 오픈소스 방식으로 한자 데이터 기여 시스템 구축
   - 사용자 피드백을 통한 지속적 개선

이러한 단계적 접근을 통해 15급부터 1급까지 총 약 5,000자의 한자 데이터를 체계적으로 구축할 수 있을 것입니다. 